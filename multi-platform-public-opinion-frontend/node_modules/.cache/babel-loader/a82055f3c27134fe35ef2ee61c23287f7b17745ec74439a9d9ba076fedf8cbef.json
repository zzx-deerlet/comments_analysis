{"ast":null,"code":"import { getOpinionList, getOpinionAnalysis, exportOpinionData } from '@/api/opinion';\nconst state = {\n  opinionList: [],\n  total: 0,\n  loading: false,\n  analysisData: {\n    sentimentDistribution: [],\n    platformDistribution: [],\n    trendData: []\n  }\n};\nconst mutations = {\n  SET_OPINION_LIST: (state, {\n    list,\n    total\n  }) => {\n    state.opinionList = list;\n    state.total = total;\n  },\n  SET_LOADING: (state, status) => {\n    state.loading = status;\n  },\n  SET_ANALYSIS_DATA: (state, data) => {\n    state.analysisData = data;\n  }\n};\nconst actions = {\n  // 获取舆情数据列表\n  getOpinionList({\n    commit\n  }, params) {\n    commit('SET_LOADING', true);\n    return new Promise((resolve, reject) => {\n      getOpinionList(params).then(response => {\n        const {\n          data\n        } = response;\n        commit('SET_OPINION_LIST', {\n          list: data.list,\n          total: data.total\n        });\n        commit('SET_LOADING', false);\n        resolve(data);\n      }).catch(error => {\n        commit('SET_LOADING', false);\n        reject(error);\n      });\n    });\n  },\n  // 获取舆情分析数据\n  getOpinionAnalysis({\n    commit\n  }, params) {\n    return new Promise((resolve, reject) => {\n      getOpinionAnalysis(params).then(response => {\n        const {\n          data\n        } = response;\n        commit('SET_ANALYSIS_DATA', data);\n        resolve(data);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  },\n  // 导出舆情数据\n  exportOpinionData({\n    commit\n  }, params) {\n    return new Promise((resolve, reject) => {\n      exportOpinionData(params).then(response => {\n        resolve(response);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n};","map":{"version":3,"names":["getOpinionList","getOpinionAnalysis","exportOpinionData","state","opinionList","total","loading","analysisData","sentimentDistribution","platformDistribution","trendData","mutations","SET_OPINION_LIST","list","SET_LOADING","status","SET_ANALYSIS_DATA","data","actions","commit","params","Promise","resolve","reject","then","response","catch","error","namespaced"],"sources":["D:/a课程/软件工程/OpinionAnalysis/src/store/modules/opinion.js"],"sourcesContent":["import { getOpinionList, getOpinionAnalysis, exportOpinionData } from '@/api/opinion'\r\n\r\nconst state = {\r\n  opinionList: [],\r\n  total: 0,\r\n  loading: false,\r\n  analysisData: {\r\n    sentimentDistribution: [],\r\n    platformDistribution: [],\r\n    trendData: []\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  SET_OPINION_LIST: (state, { list, total }) => {\r\n    state.opinionList = list\r\n    state.total = total\r\n  },\r\n  SET_LOADING: (state, status) => {\r\n    state.loading = status\r\n  },\r\n  SET_ANALYSIS_DATA: (state, data) => {\r\n    state.analysisData = data\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  // 获取舆情数据列表\r\n  getOpinionList({ commit }, params) {\r\n    commit('SET_LOADING', true)\r\n    return new Promise((resolve, reject) => {\r\n      getOpinionList(params)\r\n        .then(response => {\r\n          const { data } = response\r\n          commit('SET_OPINION_LIST', {\r\n            list: data.list,\r\n            total: data.total\r\n          })\r\n          commit('SET_LOADING', false)\r\n          resolve(data)\r\n        })\r\n        .catch(error => {\r\n          commit('SET_LOADING', false)\r\n          reject(error)\r\n        })\r\n    })\r\n  },\r\n\r\n  // 获取舆情分析数据\r\n  getOpinionAnalysis({ commit }, params) {\r\n    return new Promise((resolve, reject) => {\r\n      getOpinionAnalysis(params)\r\n        .then(response => {\r\n          const { data } = response\r\n          commit('SET_ANALYSIS_DATA', data)\r\n          resolve(data)\r\n        })\r\n        .catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  },\r\n\r\n  // 导出舆情数据\r\n  exportOpinionData({ commit }, params) {\r\n    return new Promise((resolve, reject) => {\r\n      exportOpinionData(params)\r\n        .then(response => {\r\n          resolve(response)\r\n        })\r\n        .catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n} "],"mappings":"AAAA,SAASA,cAAc,EAAEC,kBAAkB,EAAEC,iBAAiB,QAAQ,eAAe;AAErF,MAAMC,KAAK,GAAG;EACZC,WAAW,EAAE,EAAE;EACfC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE,KAAK;EACdC,YAAY,EAAE;IACZC,qBAAqB,EAAE,EAAE;IACzBC,oBAAoB,EAAE,EAAE;IACxBC,SAAS,EAAE;EACb;AACF,CAAC;AAED,MAAMC,SAAS,GAAG;EAChBC,gBAAgB,EAAEA,CAACT,KAAK,EAAE;IAAEU,IAAI;IAAER;EAAM,CAAC,KAAK;IAC5CF,KAAK,CAACC,WAAW,GAAGS,IAAI;IACxBV,KAAK,CAACE,KAAK,GAAGA,KAAK;EACrB,CAAC;EACDS,WAAW,EAAEA,CAACX,KAAK,EAAEY,MAAM,KAAK;IAC9BZ,KAAK,CAACG,OAAO,GAAGS,MAAM;EACxB,CAAC;EACDC,iBAAiB,EAAEA,CAACb,KAAK,EAAEc,IAAI,KAAK;IAClCd,KAAK,CAACI,YAAY,GAAGU,IAAI;EAC3B;AACF,CAAC;AAED,MAAMC,OAAO,GAAG;EACd;EACAlB,cAAcA,CAAC;IAAEmB;EAAO,CAAC,EAAEC,MAAM,EAAE;IACjCD,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC;IAC3B,OAAO,IAAIE,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCvB,cAAc,CAACoB,MAAM,CAAC,CACnBI,IAAI,CAACC,QAAQ,IAAI;QAChB,MAAM;UAAER;QAAK,CAAC,GAAGQ,QAAQ;QACzBN,MAAM,CAAC,kBAAkB,EAAE;UACzBN,IAAI,EAAEI,IAAI,CAACJ,IAAI;UACfR,KAAK,EAAEY,IAAI,CAACZ;QACd,CAAC,CAAC;QACFc,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC;QAC5BG,OAAO,CAACL,IAAI,CAAC;MACf,CAAC,CAAC,CACDS,KAAK,CAACC,KAAK,IAAI;QACdR,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC;QAC5BI,MAAM,CAACI,KAAK,CAAC;MACf,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC;EAED;EACA1B,kBAAkBA,CAAC;IAAEkB;EAAO,CAAC,EAAEC,MAAM,EAAE;IACrC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCtB,kBAAkB,CAACmB,MAAM,CAAC,CACvBI,IAAI,CAACC,QAAQ,IAAI;QAChB,MAAM;UAAER;QAAK,CAAC,GAAGQ,QAAQ;QACzBN,MAAM,CAAC,mBAAmB,EAAEF,IAAI,CAAC;QACjCK,OAAO,CAACL,IAAI,CAAC;MACf,CAAC,CAAC,CACDS,KAAK,CAACC,KAAK,IAAI;QACdJ,MAAM,CAACI,KAAK,CAAC;MACf,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC;EAED;EACAzB,iBAAiBA,CAAC;IAAEiB;EAAO,CAAC,EAAEC,MAAM,EAAE;IACpC,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCrB,iBAAiB,CAACkB,MAAM,CAAC,CACtBI,IAAI,CAACC,QAAQ,IAAI;QAChBH,OAAO,CAACG,QAAQ,CAAC;MACnB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdJ,MAAM,CAACI,KAAK,CAAC;MACf,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;AACF,CAAC;AAED,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBzB,KAAK;EACLQ,SAAS;EACTO;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}