{"ast":null,"code":"import { ref, reactive } from 'vue';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nexport default {\n  __name: 'Profile',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = useStore();\n    const profileForm = reactive({\n      username: '',\n      email: '',\n      phone: ''\n    });\n    const rules = {\n      email: [{\n        required: true,\n        message: '请输入邮箱地址',\n        trigger: 'blur'\n      }, {\n        type: 'email',\n        message: '请输入正确的邮箱地址',\n        trigger: 'blur'\n      }],\n      phone: [{\n        required: true,\n        message: '请输入手机号',\n        trigger: 'blur'\n      }, {\n        pattern: /^1[3-9]\\d{9}$/,\n        message: '请输入正确的手机号',\n        trigger: 'blur'\n      }]\n    };\n    const handleSubmit = async () => {\n      try {\n        await store.dispatch('user/updateProfile', profileForm);\n        ElMessage.success('保存成功');\n      } catch (error) {\n        ElMessage.error('保存失败');\n      }\n    };\n    const __returned__ = {\n      store,\n      profileForm,\n      rules,\n      handleSubmit,\n      ref,\n      reactive,\n      get useStore() {\n        return useStore;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","useStore","ElMessage","store","profileForm","username","email","phone","rules","required","message","trigger","type","pattern","handleSubmit","dispatch","success","error"],"sources":["D:/a课程/软件工程/OpinionAnalysis/src/views/Profile.vue"],"sourcesContent":["<template>\r\n  <div class=\"profile-container\">\r\n    <el-card class=\"profile-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>个人资料</span>\r\n        </div>\r\n      </template>\r\n      \r\n      <el-form\r\n        ref=\"profileForm\"\r\n        :model=\"profileForm\"\r\n        :rules=\"rules\"\r\n        label-width=\"100px\"\r\n      >\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"profileForm.username\" disabled />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"profileForm.email\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"手机号\" prop=\"phone\">\r\n          <el-input v-model=\"profileForm.phone\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSubmit\">保存修改</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst store = useStore()\r\nconst profileForm = reactive({\r\n  username: '',\r\n  email: '',\r\n  phone: ''\r\n})\r\n\r\nconst rules = {\r\n  email: [\r\n    { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n    { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\r\n  ],\r\n  phone: [\r\n    { required: true, message: '请输入手机号', trigger: 'blur' },\r\n    { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号', trigger: 'blur' }\r\n  ]\r\n}\r\n\r\nconst handleSubmit = async () => {\r\n  try {\r\n    await store.dispatch('user/updateProfile', profileForm)\r\n    ElMessage.success('保存成功')\r\n  } catch (error) {\r\n    ElMessage.error('保存失败')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.profile-container {\r\n  padding: 20px;\r\n  \r\n  .profile-card {\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n  }\r\n}\r\n</style>\r\n\r\n"],"mappings":"AAoCA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,SAASC,QAAQ,QAAQ,MAAM;AAC/B,SAASC,SAAS,QAAQ,cAAc;;;;;;;IAExC,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;IACxB,MAAMG,WAAW,GAAGJ,QAAQ,CAAC;MAC3BK,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE;IACT,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAG;MACZF,KAAK,EAAE,CACL;QAAEG,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,SAAS;QAAEC,OAAO,EAAE;MAAO,CAAC,EACvD;QAAEC,IAAI,EAAE,OAAO;QAAEF,OAAO,EAAE,YAAY;QAAEC,OAAO,EAAE;MAAO,CAAC,CAC1D;MACDJ,KAAK,EAAE,CACL;QAAEE,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,QAAQ;QAAEC,OAAO,EAAE;MAAO,CAAC,EACtD;QAAEE,OAAO,EAAE,eAAe;QAAEH,OAAO,EAAE,WAAW;QAAEC,OAAO,EAAE;MAAO,CAAC;IAEvE,CAAC;IAED,MAAMG,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMX,KAAK,CAACY,QAAQ,CAAC,oBAAoB,EAAEX,WAAW,CAAC;QACvDF,SAAS,CAACc,OAAO,CAAC,MAAM,CAAC;MAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdf,SAAS,CAACe,KAAK,CAAC,MAAM,CAAC;MACzB;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}