{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createBlock as _createBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"search-container\"\n};\nconst _hoisted_2 = {\n  class: \"results-header\"\n};\nconst _hoisted_3 = {\n  class: \"pagination-container\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"detail-content\"\n};\nconst _hoisted_5 = {\n  class: \"detail-item\"\n};\nconst _hoisted_6 = {\n  class: \"detail-item\"\n};\nconst _hoisted_7 = {\n  class: \"detail-item\"\n};\nconst _hoisted_8 = {\n  class: \"detail-item\"\n};\nconst _hoisted_9 = {\n  class: \"detail-item\"\n};\nconst _hoisted_10 = {\n  class: \"content\"\n};\nconst _hoisted_11 = {\n  class: \"detail-item\"\n};\nconst _hoisted_12 = {\n  class: \"interaction-data\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 搜索表单 \"), _createVNode(_component_el_card, {\n    class: \"search-form\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      model: $setup.searchForm,\n      ref: \"searchFormRef\",\n      inline: true\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"关键词\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.searchForm.keyword,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchForm.keyword = $event),\n          placeholder: \"请输入关键词\",\n          clearable: \"\",\n          onKeyup: _withKeys($setup.handleSearch, [\"enter\"])\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"平台\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $setup.searchForm.platform,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.searchForm.platform = $event),\n          placeholder: \"请选择平台\",\n          clearable: \"\"\n        }, {\n          default: _withCtx(() => [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.platformOptions, item => {\n            return _createVNode(_component_el_option, {\n              key: item.value,\n              label: item.label,\n              value: item.value\n            }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n          }), 64 /* STABLE_FRAGMENT */))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"情感倾向\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $setup.searchForm.sentiment,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.searchForm.sentiment = $event),\n          placeholder: \"请选择情感倾向\",\n          clearable: \"\"\n        }, {\n          default: _withCtx(() => [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.sentimentOptions, item => {\n            return _createVNode(_component_el_option, {\n              key: item.value,\n              label: item.label,\n              value: item.value\n            }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n          }), 64 /* STABLE_FRAGMENT */))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"时间范围\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n          modelValue: $setup.searchForm.dateRange,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.searchForm.dateRange = $event),\n          type: \"daterange\",\n          \"range-separator\": \"至\",\n          \"start-placeholder\": \"开始日期\",\n          \"end-placeholder\": \"结束日期\",\n          \"value-format\": \"YYYY-MM-DD\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $setup.handleSearch\n        }, {\n          default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"搜索\")])),\n          _: 1 /* STABLE */,\n          __: [7]\n        }), _createVNode(_component_el_button, {\n          onClick: $setup.handleReset\n        }, {\n          default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"重置\")])),\n          _: 1 /* STABLE */,\n          __: [8]\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 搜索结果 \"), _createVNode(_component_el_card, {\n    class: \"search-results\"\n  }, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[10] || (_cache[10] = _createElementVNode(\"span\", null, \"搜索结果\", -1 /* HOISTED */)), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.handleExport\n    }, {\n      default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"导出数据\")])),\n      _: 1 /* STABLE */,\n      __: [9]\n    })])]),\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n      data: $setup.opinionList,\n      style: {\n        \"width\": \"100%\"\n      },\n      border: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"platform\",\n        label: \"平台\",\n        width: \"100\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"content\",\n        label: \"内容\",\n        \"show-overflow-tooltip\": \"\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"sentiment\",\n        label: \"情感倾向\",\n        width: \"100\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_tag, {\n          type: $setup.getSentimentType(row.sentiment)\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getSentimentLabel(row.sentiment)), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"keywords\",\n        label: \"关键词\",\n        width: \"200\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(row.keywords, keyword => {\n          return _openBlock(), _createBlock(_component_el_tag, {\n            key: keyword,\n            size: \"small\",\n            class: \"keyword-tag\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(keyword), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"publishTime\",\n        label: \"发布时间\",\n        width: \"180\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"120\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_button, {\n          type: \"text\",\n          size: \"small\",\n          onClick: $event => $setup.handleViewDetail(row)\n        }, {\n          default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\" 查看详情 \")])),\n          _: 2 /* DYNAMIC */,\n          __: [11]\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_pagination, {\n      \"current-page\": $setup.currentPage,\n      \"onUpdate:currentPage\": _cache[4] || (_cache[4] = $event => $setup.currentPage = $event),\n      \"page-size\": $setup.pageSize,\n      \"onUpdate:pageSize\": _cache[5] || (_cache[5] = $event => $setup.pageSize = $event),\n      \"page-sizes\": [10, 20, 50, 100],\n      total: $setup.total,\n      layout: \"total, sizes, prev, pager, next, jumper\",\n      onSizeChange: $setup.handleSizeChange,\n      onCurrentChange: $setup.handleCurrentChange\n    }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\"])])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 详情对话框 \"), _createVNode(_component_el_dialog, {\n    modelValue: $setup.detailDialogVisible,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.detailDialogVisible = $event),\n    title: \"舆情详情\",\n    width: \"60%\"\n  }, {\n    default: _withCtx(() => [$setup.currentDetail ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[12] || (_cache[12] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"平台：\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.currentDetail.platform), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_6, [_cache[13] || (_cache[13] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"发布时间：\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.currentDetail.publishTime), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_7, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"情感倾向：\", -1 /* HOISTED */)), _createVNode(_component_el_tag, {\n      type: $setup.getSentimentType($setup.currentDetail.sentiment)\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getSentimentLabel($setup.currentDetail.sentiment)), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"type\"])]), _createElementVNode(\"div\", _hoisted_8, [_cache[15] || (_cache[15] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"关键词：\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentDetail.keywords, keyword => {\n      return _openBlock(), _createBlock(_component_el_tag, {\n        key: keyword,\n        size: \"small\",\n        class: \"keyword-tag\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(keyword), 1 /* TEXT */)]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */);\n    }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_9, [_cache[16] || (_cache[16] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"内容：\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_10, _toDisplayString($setup.currentDetail.content), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"互动数据：\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"span\", null, \"评论：\" + _toDisplayString($setup.currentDetail.replyCount), 1 /* TEXT */), _createElementVNode(\"span\", null, \"转发：\" + _toDisplayString($setup.currentDetail.forwardCount), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_el_card","default","_withCtx","_component_el_form","model","$setup","searchForm","ref","inline","_component_el_form_item","label","_component_el_input","modelValue","keyword","_cache","$event","placeholder","clearable","onKeyup","_withKeys","handleSearch","_","_component_el_select","platform","_Fragment","_renderList","platformOptions","item","_component_el_option","value","sentiment","sentimentOptions","_component_el_date_picker","dateRange","type","_component_el_button","onClick","_createTextVNode","__","handleReset","header","_createElementVNode","_hoisted_2","handleExport","_createBlock","_component_el_table","data","opinionList","style","border","_component_el_table_column","prop","width","row","_component_el_tag","getSentimentType","_toDisplayString","getSentimentLabel","keywords","size","fixed","handleViewDetail","loading","_hoisted_3","_component_el_pagination","currentPage","pageSize","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","_component_el_dialog","detailDialogVisible","title","currentDetail","_hoisted_4","_hoisted_5","_hoisted_6","publishTime","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","content","_hoisted_11","_hoisted_12","replyCount","forwardCount"],"sources":["D:\\a课程\\软件工程\\OpinionAnalysis\\src\\views\\Search.vue"],"sourcesContent":["<template>\r\n  <div class=\"search-container\">\r\n    <!-- 搜索表单 -->\r\n    <el-card class=\"search-form\">\r\n      <el-form :model=\"searchForm\" ref=\"searchFormRef\" :inline=\"true\">\r\n        <el-form-item label=\"关键词\">\r\n          <el-input\r\n            v-model=\"searchForm.keyword\"\r\n            placeholder=\"请输入关键词\"\r\n            clearable\r\n            @keyup.enter=\"handleSearch\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"平台\">\r\n          <el-select v-model=\"searchForm.platform\" placeholder=\"请选择平台\" clearable>\r\n            <el-option\r\n              v-for=\"item in platformOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"情感倾向\">\r\n          <el-select v-model=\"searchForm.sentiment\" placeholder=\"请选择情感倾向\" clearable>\r\n            <el-option\r\n              v-for=\"item in sentimentOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"时间范围\">\r\n          <el-date-picker\r\n            v-model=\"searchForm.dateRange\"\r\n            type=\"daterange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            value-format=\"YYYY-MM-DD\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\r\n          <el-button @click=\"handleReset\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    \r\n    <!-- 搜索结果 -->\r\n    <el-card class=\"search-results\">\r\n      <template #header>\r\n        <div class=\"results-header\">\r\n          <span>搜索结果</span>\r\n          <el-button type=\"primary\" @click=\"handleExport\">导出数据</el-button>\r\n        </div>\r\n      </template>\r\n      \r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"opinionList\"\r\n        style=\"width: 100%\"\r\n        border\r\n      >\r\n        <el-table-column prop=\"platform\" label=\"平台\" width=\"100\" />\r\n        <el-table-column prop=\"content\" label=\"内容\" show-overflow-tooltip />\r\n        <el-table-column prop=\"sentiment\" label=\"情感倾向\" width=\"100\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"getSentimentType(row.sentiment)\">\r\n              {{ getSentimentLabel(row.sentiment) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"keywords\" label=\"关键词\" width=\"200\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag\r\n              v-for=\"keyword in row.keywords\"\r\n              :key=\"keyword\"\r\n              size=\"small\"\r\n              class=\"keyword-tag\"\r\n            >\r\n              {{ keyword }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"publishTime\" label=\"发布时间\" width=\"180\" />\r\n        <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\r\n          <template #default=\"{ row }\">\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"handleViewDetail(row)\"\r\n            >\r\n              查看详情\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      \r\n      <!-- 分页 -->\r\n      <div class=\"pagination-container\">\r\n        <el-pagination\r\n          v-model:current-page=\"currentPage\"\r\n          v-model:page-size=\"pageSize\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :total=\"total\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n    \r\n    <!-- 详情对话框 -->\r\n    <el-dialog\r\n      v-model=\"detailDialogVisible\"\r\n      title=\"舆情详情\"\r\n      width=\"60%\"\r\n    >\r\n      <div v-if=\"currentDetail\" class=\"detail-content\">\r\n        <div class=\"detail-item\">\r\n          <span class=\"label\">平台：</span>\r\n          <span>{{ currentDetail.platform }}</span>\r\n        </div>\r\n        <div class=\"detail-item\">\r\n          <span class=\"label\">发布时间：</span>\r\n          <span>{{ currentDetail.publishTime }}</span>\r\n        </div>\r\n        <div class=\"detail-item\">\r\n          <span class=\"label\">情感倾向：</span>\r\n          <el-tag :type=\"getSentimentType(currentDetail.sentiment)\">\r\n            {{ getSentimentLabel(currentDetail.sentiment) }}\r\n          </el-tag>\r\n        </div>\r\n        <div class=\"detail-item\">\r\n          <span class=\"label\">关键词：</span>\r\n          <el-tag\r\n            v-for=\"keyword in currentDetail.keywords\"\r\n            :key=\"keyword\"\r\n            size=\"small\"\r\n            class=\"keyword-tag\"\r\n          >\r\n            {{ keyword }}\r\n          </el-tag>\r\n        </div>\r\n        <div class=\"detail-item\">\r\n          <span class=\"label\">内容：</span>\r\n          <div class=\"content\">{{ currentDetail.content }}</div>\r\n        </div>\r\n        <div class=\"detail-item\">\r\n          <span class=\"label\">互动数据：</span>\r\n          <div class=\"interaction-data\">\r\n            <span>评论：{{ currentDetail.replyCount }}</span>\r\n            <span>转发：{{ currentDetail.forwardCount }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst store = useStore()\r\nconst searchFormRef = ref(null)\r\nconst loading = ref(false)\r\nconst detailDialogVisible = ref(false)\r\nconst currentDetail = ref(null)\r\n\r\n// 分页相关\r\nconst currentPage = ref(1)\r\nconst pageSize = ref(10)\r\nconst total = ref(0)\r\n\r\n// 搜索表单数据\r\nconst searchForm = reactive({\r\n  keyword: '',\r\n  platform: '',\r\n  sentiment: '',\r\n  dateRange: []\r\n})\r\n\r\n// 平台选项\r\nconst platformOptions = [\r\n  { label: '微博', value: 'weibo' },\r\n  { label: '微信', value: 'wechat' },\r\n  { label: '知乎', value: 'zhihu' },\r\n  { label: 'B站', value: 'bilibili' }\r\n]\r\n\r\n// 情感倾向选项\r\nconst sentimentOptions = [\r\n  { label: '正面', value: 'positive' },\r\n  { label: '中性', value: 'neutral' },\r\n  { label: '负面', value: 'negative' }\r\n]\r\n\r\n// 获取情感标签类型\r\nconst getSentimentType = (sentiment) => {\r\n  const types = {\r\n    positive: 'success',\r\n    neutral: 'info',\r\n    negative: 'danger'\r\n  }\r\n  return types[sentiment] || 'info'\r\n}\r\n\r\n// 获取情感标签文本\r\nconst getSentimentLabel = (sentiment) => {\r\n  const labels = {\r\n    positive: '正面',\r\n    neutral: '中性',\r\n    negative: '负面'\r\n  }\r\n  return labels[sentiment] || '未知'\r\n}\r\n\r\n// 搜索结果数据\r\nconst opinionList = ref([])\r\n\r\n// 搜索方法\r\nconst handleSearch = () => {\r\n  currentPage.value = 1\r\n  fetchData()\r\n}\r\n\r\n// 重置搜索\r\nconst handleReset = () => {\r\n  searchFormRef.value?.resetFields()\r\n  handleSearch()\r\n}\r\n\r\n// 获取数据\r\nconst fetchData = async () => {\r\n  loading.value = true\r\n  try {\r\n    const params = {\r\n      ...searchForm,\r\n      page: currentPage.value,\r\n      pageSize: pageSize.value,\r\n      startDate: searchForm.dateRange?.[0],\r\n      endDate: searchForm.dateRange?.[1]\r\n    }\r\n    \r\n    const { list, total: totalCount } = await store.dispatch('opinion/searchOpinions', params)\r\n    opinionList.value = list\r\n    total.value = totalCount\r\n  } catch (error) {\r\n    ElMessage.error('获取数据失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 查看详情\r\nconst handleViewDetail = async (row) => {\r\n  try {\r\n    const detail = await store.dispatch('opinion/getOpinionDetail', row.id)\r\n    currentDetail.value = detail\r\n    detailDialogVisible.value = true\r\n  } catch (error) {\r\n    ElMessage.error('获取详情失败')\r\n  }\r\n}\r\n\r\n// 导出数据\r\nconst handleExport = async () => {\r\n  try {\r\n    const params = {\r\n      ...searchForm,\r\n      startDate: searchForm.dateRange?.[0],\r\n      endDate: searchForm.dateRange?.[1]\r\n    }\r\n    await store.dispatch('opinion/exportOpinions', params)\r\n    ElMessage.success('导出成功')\r\n  } catch (error) {\r\n    ElMessage.error('导出失败')\r\n  }\r\n}\r\n\r\n// 分页方法\r\nconst handleSizeChange = (val) => {\r\n  pageSize.value = val\r\n  fetchData()\r\n}\r\n\r\nconst handleCurrentChange = (val) => {\r\n  currentPage.value = val\r\n  fetchData()\r\n}\r\n\r\n// 初始化\r\nfetchData()\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-container {\r\n  .search-form {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .search-results {\r\n    .results-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n    \r\n    .keyword-tag {\r\n      margin-right: 5px;\r\n    }\r\n    \r\n    .pagination-container {\r\n      margin-top: 20px;\r\n      text-align: right;\r\n    }\r\n  }\r\n  \r\n  .detail-content {\r\n    .detail-item {\r\n      margin-bottom: 15px;\r\n      \r\n      .label {\r\n        font-weight: bold;\r\n        margin-right: 10px;\r\n      }\r\n      \r\n      .content {\r\n        margin-top: 10px;\r\n        line-height: 1.6;\r\n      }\r\n      \r\n      .interaction-data {\r\n        span {\r\n          margin-right: 20px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}