{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { Odometer, Search, DataAnalysis, Download, Setting, Fold, Expand, CaretBottom } from '@element-plus/icons-vue';\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const route = useRoute();\n    const store = useStore();\n    const isCollapse = ref(false);\n    const username = computed(() => store.state.user.username);\n    const activeMenu = computed(() => route.path);\n    const toggleSidebar = () => {\n      isCollapse.value = !isCollapse.value;\n    };\n    const handleLogout = async () => {\n      try {\n        await store.dispatch('user/logout');\n        router.push('/login');\n      } catch (error) {\n        console.error('退出登录失败:', error);\n      }\n    };\n    const __returned__ = {\n      router,\n      route,\n      store,\n      isCollapse,\n      username,\n      activeMenu,\n      toggleSidebar,\n      handleLogout,\n      ref,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      get useRoute() {\n        return useRoute;\n      },\n      get useStore() {\n        return useStore;\n      },\n      get Odometer() {\n        return Odometer;\n      },\n      get Search() {\n        return Search;\n      },\n      get DataAnalysis() {\n        return DataAnalysis;\n      },\n      get Download() {\n        return Download;\n      },\n      get Setting() {\n        return Setting;\n      },\n      get Fold() {\n        return Fold;\n      },\n      get Expand() {\n        return Expand;\n      },\n      get CaretBottom() {\n        return CaretBottom;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","useRouter","useRoute","useStore","Odometer","Search","DataAnalysis","Download","Setting","Fold","Expand","CaretBottom","router","route","store","isCollapse","username","state","user","activeMenu","path","toggleSidebar","value","handleLogout","dispatch","push","error","console"],"sources":["D:/a课程/软件工程/OpinionAnalysis/src/layout/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-wrapper\">\r\n    <!-- 侧边栏 -->\r\n    <div class=\"sidebar-container\">\r\n      <div class=\"logo\">\r\n        <h1>多平台舆情分析系统</h1>\r\n      </div>\r\n      <el-menu\r\n        :default-active=\"activeMenu\"\r\n        class=\"sidebar-menu\"\r\n        :router=\"true\"\r\n        :collapse=\"isCollapse\"\r\n      >\r\n        <el-menu-item index=\"/dashboard\">\r\n          <el-icon><Odometer /></el-icon>\r\n          <template #title>数据概览</template>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/search\">\r\n          <el-icon><Search /></el-icon>\r\n          <template #title>舆情搜索</template>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/analysis\">\r\n          <el-icon><DataAnalysis /></el-icon>\r\n          <template #title>数据分析</template>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/export\">\r\n          <el-icon><Download /></el-icon>\r\n          <template #title>数据导出</template>\r\n        </el-menu-item>\r\n        \r\n        <el-sub-menu index=\"system\">\r\n          <template #title>\r\n            <el-icon><Setting /></el-icon>\r\n            <span>系统管理</span>\r\n          </template>\r\n          <el-menu-item index=\"/system\">系统设置</el-menu-item>\r\n          <el-menu-item index=\"/user\">用户管理</el-menu-item>\r\n        </el-sub-menu>\r\n      </el-menu>\r\n    </div>\r\n    \r\n    <!-- 主要内容区 -->\r\n    <div class=\"main-container\">\r\n      <!-- 顶部导航栏 -->\r\n      <div class=\"navbar\">\r\n        <div class=\"left\">\r\n          <el-icon\r\n            class=\"collapse-btn\"\r\n            @click=\"toggleSidebar\"\r\n          >\r\n            <Fold v-if=\"!isCollapse\" />\r\n            <Expand v-else />\r\n          </el-icon>\r\n        </div>\r\n        <div class=\"right\">\r\n          <el-dropdown trigger=\"click\">\r\n            <span class=\"user-info\">\r\n              {{ username }}\r\n              <el-icon><CaretBottom /></el-icon>\r\n            </span>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item @click=\"$router.push('/profile')\">\r\n                  个人资料\r\n                </el-dropdown-item>\r\n                <el-dropdown-item divided @click=\"handleLogout\">\r\n                  退出登录\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 内容区 -->\r\n      <div class=\"app-main\">\r\n        <router-view />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport {\r\n  Odometer,\r\n  Search,\r\n  DataAnalysis,\r\n  Download,\r\n  Setting,\r\n  Fold,\r\n  Expand,\r\n  CaretBottom\r\n} from '@element-plus/icons-vue'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst store = useStore()\r\n\r\nconst isCollapse = ref(false)\r\nconst username = computed(() => store.state.user.username)\r\n\r\nconst activeMenu = computed(() => route.path)\r\n\r\nconst toggleSidebar = () => {\r\n  isCollapse.value = !isCollapse.value\r\n}\r\n\r\nconst handleLogout = async () => {\r\n  try {\r\n    await store.dispatch('user/logout')\r\n    router.push('/login')\r\n  } catch (error) {\r\n    console.error('退出登录失败:', error)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.app-wrapper {\r\n  display: flex;\r\n  height: 100vh;\r\n  \r\n  .sidebar-container {\r\n    width: 240px;\r\n    height: 100%;\r\n    background-color: #304156;\r\n    transition: width 0.3s;\r\n    \r\n    &.collapse {\r\n      width: 64px;\r\n    }\r\n    \r\n    .logo {\r\n      height: 60px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      background-color: #2b3649;\r\n      \r\n      h1 {\r\n        color: #fff;\r\n        font-size: 18px;\r\n        margin: 0;\r\n        white-space: nowrap;\r\n      }\r\n    }\r\n    \r\n    .sidebar-menu {\r\n      border-right: none;\r\n      background-color: transparent;\r\n      \r\n      :deep(.el-menu-item),\r\n      :deep(.el-sub-menu__title) {\r\n        color: #bfcbd9;\r\n        \r\n        &:hover {\r\n          color: #fff;\r\n          background-color: #263445;\r\n        }\r\n        \r\n        &.is-active {\r\n          color: #409eff;\r\n          background-color: #263445;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  .main-container {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n    \r\n    .navbar {\r\n      height: 60px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 0 20px;\r\n      background-color: #fff;\r\n      box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\r\n      \r\n      .collapse-btn {\r\n        font-size: 20px;\r\n        cursor: pointer;\r\n        \r\n        &:hover {\r\n          color: #409eff;\r\n        }\r\n      }\r\n      \r\n      .user-info {\r\n        display: flex;\r\n        align-items: center;\r\n        cursor: pointer;\r\n        \r\n        .el-icon {\r\n          margin-left: 5px;\r\n        }\r\n      }\r\n    }\r\n    \r\n    .app-main {\r\n      flex: 1;\r\n      padding: 20px;\r\n      overflow-y: auto;\r\n      background-color: #f0f2f5;\r\n    }\r\n  }\r\n}\r\n</style> "],"mappings":"AAsFA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AACnC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,YAAY;AAChD,SAASC,QAAQ,QAAQ,MAAM;AAC/B,SACEC,QAAQ,EACRC,MAAM,EACNC,YAAY,EACZC,QAAQ,EACRC,OAAO,EACPC,IAAI,EACJC,MAAM,EACNC,WAAW,QACN,yBAAyB;;;;;;;IAEhC,MAAMC,MAAM,GAAGX,SAAS,CAAC,CAAC;IAC1B,MAAMY,KAAK,GAAGX,QAAQ,CAAC,CAAC;IACxB,MAAMY,KAAK,GAAGX,QAAQ,CAAC,CAAC;IAExB,MAAMY,UAAU,GAAGhB,GAAG,CAAC,KAAK,CAAC;IAC7B,MAAMiB,QAAQ,GAAGhB,QAAQ,CAAC,MAAMc,KAAK,CAACG,KAAK,CAACC,IAAI,CAACF,QAAQ,CAAC;IAE1D,MAAMG,UAAU,GAAGnB,QAAQ,CAAC,MAAMa,KAAK,CAACO,IAAI,CAAC;IAE7C,MAAMC,aAAa,GAAGA,CAAA,KAAM;MAC1BN,UAAU,CAACO,KAAK,GAAG,CAACP,UAAU,CAACO,KAAK;IACtC,CAAC;IAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMT,KAAK,CAACU,QAAQ,CAAC,aAAa,CAAC;QACnCZ,MAAM,CAACa,IAAI,CAAC,QAAQ,CAAC;MACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}